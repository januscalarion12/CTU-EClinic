<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Settings - Clinic Management System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h1>Clinic Management</h1>
        </div>
        <div class="sidebar-nav">
            <ul>
                <li><a href="admin_dashboard.html"><span class="nav-icon"><i class="fas fa-tachometer-alt"></i></span><span class="nav-text">Dashboard</span></a></li>
                <li><a href="admin_users.html"><span class="nav-icon"><i class="fas fa-users-cog"></i></span><span class="nav-text">User Management</span></a></li>
                <li><a href="admin_reports.html"><span class="nav-icon"><i class="fas fa-chart-bar"></i></span><span class="nav-text">Reports</span></a></li>
                <li><a href="admin_settings.html" class="active"><span class="nav-icon"><i class="fas fa-cogs"></i></span><span class="nav-text">Settings</span></a></li>
                <li><a href="#" id="logout"><span class="nav-icon"><i class="fas fa-sign-out-alt"></i></span><span class="nav-text">Logout</span></a></li>
            </ul>
        </div>
    </nav>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Mobile Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="dashboard">
            <div class="dashboard-header">
                <h2>System Configuration</h2>
                <p class="dashboard-subtitle">Configure clinic settings, policies, and system preferences</p>
            </div>

            <!-- Settings Categories -->
            <div class="settings-tabs">
                <button class="settings-tab active" onclick="showSettingsTab('general')">General</button>
                <button class="settings-tab" onclick="showSettingsTab('clinic')">Clinic</button>
                <button class="settings-tab" onclick="showSettingsTab('notifications')">Notifications</button>
                <button class="settings-tab" onclick="showSettingsTab('security')">Security</button>
                <button class="settings-tab" onclick="showSettingsTab('integrations')">Integrations</button>
            </div>

            <!-- General Settings -->
            <div class="settings-panel active" id="generalPanel">
                <div class="form-card">
                    <div class="form-header">
                        <h3>General System Settings</h3>
                        <p>Basic system configuration and preferences</p>
                    </div>
                    <form id="generalSettingsForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="systemName">System Name</label>
                                <input type="text" id="systemName" name="systemName" value="Clinic Management System">
                            </div>
                            <div class="form-group">
                                <label for="systemVersion">Version</label>
                                <input type="text" id="systemVersion" name="systemVersion" value="2.1.0" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone" name="timezone">
                                    <option value="UTC+8">Asia/Manila (UTC+8)</option>
                                    <option value="UTC+7">Asia/Bangkok (UTC+7)</option>
                                    <option value="UTC+9">Asia/Tokyo (UTC+9)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="language">Default Language</label>
                                <select id="language" name="language">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="maintenanceMode">Maintenance Mode</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="maintenanceMode" name="maintenanceMode">
                                    <label for="maintenanceMode" class="toggle-slider"></label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="debugMode">Debug Mode</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="debugMode" name="debugMode">
                                    <label for="debugMode" class="toggle-slider"></label>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Save General Settings</button>
                            <button type="button" class="btn-secondary" onclick="resetGeneralSettings()">Reset to Defaults</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Clinic Settings -->
            <div class="settings-panel" id="clinicPanel">
                <div class="form-card">
                    <div class="form-header">
                        <h3>Clinic Configuration</h3>
                        <p>Configure clinic-specific settings and operational parameters</p>
                    </div>
                    <form id="clinicSettingsForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clinicName">Clinic Name</label>
                                <input type="text" id="clinicName" name="clinicName" value="University Health Clinic">
                            </div>
                            <div class="form-group">
                                <label for="clinicCode">Clinic Code</label>
                                <input type="text" id="clinicCode" name="clinicCode" value="UHC001">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="clinicAddress">Address</label>
                            <textarea id="clinicAddress" name="clinicAddress" rows="3">123 University Avenue, Academic City, State 12345</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="maxAppointments">Max Appointments per Day</label>
                                <input type="number" id="maxAppointments" name="maxAppointments" value="50" min="1" max="100">
                            </div>
                            <div class="form-group">
                                <label for="appointmentDuration">Default Appointment Duration (minutes)</label>
                                <input type="number" id="appointmentDuration" name="appointmentDuration" value="30" min="15" max="120">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="workingHoursStart">Working Hours Start</label>
                                <input type="time" id="workingHoursStart" name="workingHoursStart" value="08:00">
                            </div>
                            <div class="form-group">
                                <label for="workingHoursEnd">Working Hours End</label>
                                <input type="time" id="workingHoursEnd" name="workingHoursEnd" value="17:00">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="emergencyContact">Emergency Contact</label>
                                <input type="tel" id="emergencyContact" name="emergencyContact" value="+1-555-911">
                            </div>
                            <div class="form-group">
                                <label for="clinicEmail">Clinic Email</label>
                                <input type="email" id="clinicEmail" name="clinicEmail" value="clinic@university.edu">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Save Clinic Settings</button>
                            <button type="button" class="btn-secondary" onclick="resetClinicSettings()">Reset to Defaults</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Notification Settings -->
            <div class="settings-panel" id="notificationsPanel">
                <div class="form-card">
                    <div class="form-header">
                        <h3>Notification Preferences</h3>
                        <p>Configure how and when notifications are sent</p>
                    </div>
                    <form id="notificationSettingsForm">
                        <div class="notification-section">
                            <h4>Email Notifications</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="emailAppointmentConfirm">Appointment Confirmations</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="emailAppointmentConfirm" name="emailAppointmentConfirm" checked>
                                        <label for="emailAppointmentConfirm" class="toggle-slider"></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="emailAppointmentReminders">Appointment Reminders</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="emailAppointmentReminders" name="emailAppointmentReminders" checked>
                                        <label for="emailAppointmentReminders" class="toggle-slider"></label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="emailSystemAlerts">System Alerts</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="emailSystemAlerts" name="emailSystemAlerts" checked>
                                        <label for="emailSystemAlerts" class="toggle-slider"></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="emailWeeklyReports">Weekly Reports</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="emailWeeklyReports" name="emailWeeklyReports">
                                        <label for="emailWeeklyReports" class="toggle-slider"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="notification-section">
                            <h4>SMS Notifications</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="smsEmergencyAlerts">Emergency Alerts</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="smsEmergencyAlerts" name="smsEmergencyAlerts" checked>
                                        <label for="smsEmergencyAlerts" class="toggle-slider"></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="smsAppointmentReminders">Appointment Reminders</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="smsAppointmentReminders" name="smsAppointmentReminders">
                                        <label for="smsAppointmentReminders" class="toggle-slider"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="notification-section">
                            <h4>In-App Notifications</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="inAppNotifications">Enable In-App Notifications</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="inAppNotifications" name="inAppNotifications" checked>
                                        <label for="inAppNotifications" class="toggle-slider"></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="notificationSound">Notification Sound</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="notificationSound" name="notificationSound" checked>
                                        <label for="notificationSound" class="toggle-slider"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Save Notification Settings</button>
                            <button type="button" class="btn-secondary" onclick="testNotifications()">Test Notifications</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="settings-panel" id="securityPanel">
                <div class="form-card">
                    <div class="form-header">
                        <h3>Security Configuration</h3>
                        <p>Manage security policies and access controls</p>
                    </div>
                    <form id="securitySettingsForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="passwordMinLength">Minimum Password Length</label>
                                <input type="number" id="passwordMinLength" name="passwordMinLength" value="8" min="6" max="20">
                            </div>
                            <div class="form-group">
                                <label for="sessionTimeout">Session Timeout (minutes)</label>
                                <input type="number" id="sessionTimeout" name="sessionTimeout" value="30" min="5" max="480">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="twoFactorAuth">Require 2FA for Admins</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="twoFactorAuth" name="twoFactorAuth" checked>
                                    <label for="twoFactorAuth" class="toggle-slider"></label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="passwordExpiry">Password Expiry (days)</label>
                                <input type="number" id="passwordExpiry" name="passwordExpiry" value="90" min="30" max="365">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loginAttempts">Max Login Attempts</label>
                                <input type="number" id="loginAttempts" name="loginAttempts" value="5" min="3" max="10">
                            </div>
                            <div class="form-group">
                                <label for="auditLogging">Enable Audit Logging</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="auditLogging" name="auditLogging" checked>
                                    <label for="auditLogging" class="toggle-slider"></label>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Save Security Settings</button>
                            <button type="button" class="btn-secondary" onclick="resetSecuritySettings()">Reset to Defaults</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Integrations Settings -->
            <div class="settings-panel" id="integrationsPanel">
                <div class="form-card">
                    <div class="form-header">
                        <h3>Third-Party Integrations</h3>
                        <p>Configure external service integrations</p>
                    </div>
                    <form id="integrationsSettingsForm">
                        <div class="integration-section">
                            <h4>Email Service</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="emailProvider">Provider</label>
                                    <select id="emailProvider" name="emailProvider">
                                        <option value="smtp">SMTP</option>
                                        <option value="sendgrid">SendGrid</option>
                                        <option value="mailgun">Mailgun</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="emailApiKey">API Key</label>
                                    <input type="password" id="emailApiKey" name="emailApiKey" placeholder="Enter API key">
                                </div>
                            </div>
                        </div>

                        <div class="integration-section">
                            <h4>SMS Service</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="smsProvider">Provider</label>
                                    <select id="smsProvider" name="smsProvider">
                                        <option value="twilio">Twilio</option>
                                        <option value="aws-sns">AWS SNS</option>
                                        <option value="messagebird">MessageBird</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="smsApiKey">API Key</label>
                                    <input type="password" id="smsApiKey" name="smsApiKey" placeholder="Enter API key">
                                </div>
                            </div>
                        </div>

                        <div class="integration-section">
                            <h4>Calendar Integration</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="calendarSync">Enable Calendar Sync</label>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="calendarSync" name="calendarSync">
                                        <label for="calendarSync" class="toggle-slider"></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="calendarProvider">Provider</label>
                                    <select id="calendarProvider" name="calendarProvider" disabled>
                                        <option value="google">Google Calendar</option>
                                        <option value="outlook">Outlook Calendar</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Save Integration Settings</button>
                            <button type="button" class="btn-secondary" onclick="testIntegrations()">Test Connections</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <script src="js/common.js"></script>
    <script>
        // Sidebar toggle functionality
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');

            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('mobile-open');
                overlay.classList.toggle('active');
            } else {
                sidebar.classList.toggle('collapsed');
            }
        });

        document.getElementById('sidebarOverlay').addEventListener('click', function() {
            document.getElementById('sidebar').classList.remove('mobile-open');
            this.classList.remove('active');
        });

        // Set active nav item
        const currentPage = window.location.pathname.split('/').pop();
        const navLinks = document.querySelectorAll('.sidebar-nav a');
        navLinks.forEach(link => {
            if (link.getAttribute('href') === currentPage) {
                link.classList.add('active');
            }
        });

        // Settings tabs functionality
        function showSettingsTab(tabName) {
            // Hide all panels
            const panels = document.querySelectorAll('.settings-panel');
            panels.forEach(panel => panel.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.settings-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected panel and activate tab
            document.getElementById(tabName + 'Panel').classList.add('active');
            event.target.classList.add('active');
        }

        // Calendar sync toggle
        document.getElementById('calendarSync').addEventListener('change', function() {
            document.getElementById('calendarProvider').disabled = !this.checked;
        });

        // Form functions
        function resetGeneralSettings() {
            if (confirm('Reset general settings to defaults?')) {
                document.getElementById('generalSettingsForm').reset();
            }
        }

        function resetClinicSettings() {
            if (confirm('Reset clinic settings to defaults?')) {
                document.getElementById('clinicSettingsForm').reset();
            }
        }

        function resetSecuritySettings() {
            if (confirm('Reset security settings to defaults?')) {
                document.getElementById('securitySettingsForm').reset();
            }
        }

        function testNotifications() {
            alert('Sending test notifications...');
        }

        function testIntegrations() {
            alert('Testing integrations...');
        }
    </script>
</body>
</html>